<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/lec2Style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Architects Daughter" </link>
  <link rel="stykesheeet" href="https://fonts.googleapis.com/css?family=Antic Slab" </link>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <title>Forget password?</title>

</head>

<body>
 <!-------------The drop Down-------------->
 <div class="btn-group" style="width:100%">
  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
    aria-expanded="false">
    Action
  </button>
  <div class="dropdown-menu">
    <a class="dropdown-item" href="log-in">Log-In</a>
    <a class="dropdown-item" href="Sign-Up">Sign-Up</a>
    <a class="dropdown-item" href="Contact-Us">Contact us</a>

    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="reset-password">Refresh</a>
  </div>
</div>


  <div class="container">

    <!-- Outer Row -->
    <div class="row justify-content-center">

      <div class="col-xl-10 col-lg-12 col-md-9">

        <div class="card o-hidden border-0 shadow-lg my-5">
          <div class="card-body p-0">
            <!-- Nested Row within Card Body -->
            <div class="row">
              <div class="col-lg-6 d-none d-lg-block bg-password-image"></div>
              <div class="col-lg-6">
                <div class="p-5">
                  <div class="text-center">
                    <h1 class="h4 text-gray-900 mb-2">Forgot Your Password?</h1>
                    <p style="margin-right: 5%;" class="mb-4">We get it, stuff happens. Just enter your email address
                      below
                      and we'll send you a link to reset your password!</p>
                  </div>

                  <div class="form-group">
                    <input type="email" class="form-control form-control-user" id="email" aria-describedby="emailHelp"
                      placeholder="Enter Email Address...">
                  </div>
                  <div style="width: inherit;" class="g-recaptcha"
                    data-sitekey="6LcZrwAaAAAAAOZ29UEYlCDxEl3QF679viXPer24"></div>
                  <input style="margin-top: 5%;" type="submit" id="resetBtn" class="btn btn-primary btn-user btn-block">

                  </input>

                  <hr>
                  <div class="text-center">
                    <a class="small" href="/sign-up">Create an Account!</a>
                  </div>
                  <div class="text-center">
                    <a class="small" href="/log-in">Already have an account? Login!</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>

  <!--Display the modal-->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div id="modalIn" class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="headOfModal" class="modal-title">Information!</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="MBody">
          <p>Modal body text goes here.</p>
        </div>
        <div class="modal-footer">
          <button id="CloseModal" style="margin-left: 5px;" type="button" class="btn btn-secondary"
            data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    $(document).ready(function () {

      $("#resetBtn").click(function () {
        console.log("click");
        if (submitUserForm()) {

        $.post('/reset-password', { Email: $('#email').val() })
          .done(function (data) {
            if (data == "Error") {
              $('#myModal').modal('show');
              $('#MBody').text('unfortunately the email is invalid, make sure to insert  right email that you have been signed-up with!');
            }
            else {
              $('#myModal').modal('show');
              $('#MBody').text('The details of how to reset the password has been sent to you by mail.Please read carefuly how to reset your password correctly!');
            }
          })}
          else{
            $('#myModal').modal('show');
              $('#MBody').text('Reckapcha must be filled');
          }
      });
    });
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="/js/Js.js"></script>

  <script>

  function submitUserForm(){
    var response = grecaptcha.getResponse();
    if(response.length==0)
      return false;
      else
      return true;
  }
  </script>


</body>

</html>